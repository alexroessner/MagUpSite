---
layout: page.njk
pagination:
  data: pageContent.custom_sections
  size: 1
  alias: section
  addAllPagesToCollections: true
eleventyComputed:
  title: "{{ section.title }}"
  description: "{{ section.content | truncate(155, true, '...') }}"
permalink: "{{ section.slug }}/"
---

{{ section.content }}

{%- for table in pageContent.tables %}
{%- set sectionLower = section.title | lower %}
{%- set captionLower = table.caption | lower %}
{%- if captionLower.includes(sectionLower) or sectionLower.includes(captionLower) or
       (sectionLower.includes("6 wall") and captionLower.includes("6 wall")) or
       (sectionLower.includes("seo vs geo") and captionLower.includes("seo vs geo")) or
       (sectionLower.includes("7 ai agent") and captionLower.includes("7 ai agent")) or
       (sectionLower.includes("product architecture") and captionLower.includes("product architecture")) or
       (sectionLower.includes("case study") and captionLower.includes("case study")) or
       (sectionLower.includes("delivery team") and captionLower.includes("delivery team")) or
       (sectionLower.includes("flywheel") and captionLower.includes("flywheel")) or
       (sectionLower.includes("market size") and captionLower.includes("market")) %}

<div class="not-prose mt-10 overflow-x-auto">
  <h2 class="font-heading text-xl font-semibold text-white mb-4">{{ table.caption }}</h2>
  <table class="min-w-full border border-primary-700 rounded-lg overflow-hidden text-sm">
    <thead>
      <tr class="bg-primary-800">
        {%- for header in table.headers %}
        <th class="px-4 py-3 text-left font-semibold text-white border-b border-primary-700">{{ header }}</th>
        {%- endfor %}
      </tr>
    </thead>
    <tbody>
      {%- for row in table.rows %}
      <tr class="{% if loop.index0 % 2 == 0 %}bg-primary-900{% else %}bg-primary-800/50{% endif %} hover:bg-primary-800 transition-colors">
        {%- for cell in row %}
        <td class="px-4 py-3 text-primary-200 border-b border-primary-700/50">{{ cell }}</td>
        {%- endfor %}
      </tr>
      {%- endfor %}
    </tbody>
  </table>
</div>
{%- endif %}
{%- endfor %}

{# ---- Navigation between sections ---- #}
{%- set sections = pageContent.custom_sections %}
{%- set currentIndex = -1 %}
{%- for s in sections %}
  {%- if s.slug == section.slug %}
    {%- set currentIndex = loop.index0 %}
  {%- endif %}
{%- endfor %}

<div class="not-prose mt-16 pt-8 border-t border-primary-700">
  <div class="flex justify-between items-center">
    {%- if currentIndex > 0 %}
    <a href="{{ ('/' + sections[currentIndex - 1].slug + '/') | url }}" class="group flex items-center gap-2 text-sm text-primary-300 hover:text-accent-400 transition-colors">
      <svg class="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
      {{ sections[currentIndex - 1].title | truncate(40, true, '...') }}
    </a>
    {%- else %}
    <span></span>
    {%- endif %}
    {%- if currentIndex >= 0 and currentIndex < sections.length - 1 %}
    <a href="{{ ('/' + sections[currentIndex + 1].slug + '/') | url }}" class="group flex items-center gap-2 text-sm text-primary-300 hover:text-accent-400 transition-colors">
      {{ sections[currentIndex + 1].title | truncate(40, true, '...') }}
      <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
    </a>
    {%- endif %}
  </div>
</div>
